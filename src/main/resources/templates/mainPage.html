<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/layout-sample}">

<th:block layout:fragment="content">

    <div class="row main-head ">
        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#projectMember" data-bs-whatever="@mdo">프로젝트 멤버 추가</button>
        <div class="col-12 main-title ">

            <span  th:if="${projectRequest != null}" th:text="${projectRequest.projectName + '의 TASK 목록입니다'}" style="color: black"></span>
<!--                <span th:if="${projectRequest != null}">-->
<!--                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#projectMember" data-bs-whatever="@mdo">프로젝트 멤버 추가</button>-->
<!--                </span>-->
            <span th:if="${projectRequest == null}" th:text="${accountInfo.userName + '님의 모든 프로젝트 TASK 목록입니다'}" style="color: black"></span>
        </div>
    </div>

    <span  th:if="${projectRequest != null}" style="color: black">
        <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action active" aria-current="true">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small>3 days ago</small>
                </div>
                <p class="mb-1">Some placeholder content in a paragraph.</p>
                <small>And some small print.</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small class="text-body-secondary">3 days ago</small>
                </div>
                <p class="mb-1">Some placeholder content in a paragraph.</p>
                <small class="text-body-secondary">And some muted small print.</small>
            </a>
            <a class="list-group-item list-group-item-action">
                <span>현재 프로젝트 멤버</span>
                    <li th:each="projectMember : ${projectMemberList}">
                        <span th:text="${projectMember.userName}"></span>
                    </li>

            </a>
        </div>

        <div class="form-floating">
            <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea1" style="height: 100px"></textarea>
            <label for="floatingTextarea2">Comments</label>
        </div>
    </span>

    <span th:if="${projectRequest == null}" style="color: black">
        <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action active" aria-current="true">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small>3 days ago</small>
                </div>
                <p class="mb-1">Some placeholder content in a paragraph.</p>
                <small>And some small print.</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small class="text-body-secondary">3 days ago</small>
                </div>
                <p class="mb-1">Some placeholder content in a paragraph.</p>
                <small class="text-body-secondary">And some muted small print.</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">List group item heading</h5>
                    <small class="text-body-secondary">3 days ago</small>
                </div>
                <p class="mb-1">Some placeholder content in a paragraph.</p>
                <small class="text-body-secondary">And some muted small print.</small>
            </a>
        </div>

        <div class="form-floating">
            <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px"></textarea>
            <label for="floatingTextarea2">Comments</label>
        </div>
    </span>



    <form th:object="${projectRequest}" th:action="@{/mainPage/projectAdd}" method="post">
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">프로젝트 추가</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">프로젝트명</label>
                            <input type="text" th:name="projectName" class="form-control" id="recipient-name">
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                    <button type="submit" class="btn btn-primary">추가</button>
                </div>
            </div>
        </div>
    </div>
    </form>

    <form th:object="${memberRequest}" th:action="@{/mainPage/memberAdd}" method="post">
        <div class="modal fade" id="projectMember" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="projectMemberLabel">멤버 추가</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <!-- 프로젝트 번호를 저장하기 위한 숨은 입력 필드 추가 -->
<!--                            <input type="hidden" th:name="projectNumber" th:value="${projectRequest.projectNumber}" />-->

                            <div class="mb-3">
<!--                                <ul class="dropdown-menu">-->
<!--                                    <li th:each="project : ${projectList}">-->
<!--                                        &lt;!&ndash;                        <a th:href="'#' + ${project.projectName}" class="dropdown-item" style="color: #222222" th:text="${project.projectName}"></a>&ndash;&gt;-->
<!--                                        <form th:action="@{/mainPage/projectGet}" method="post">-->
<!--                                            <input type="hidden" name="projectId" th:value="${project.projectId}" />-->
<!--                                            <input type="hidden" name="projectName" th:value="${project.projectName}" />-->
<!--                                            <button type="submit" class="dropdown-item" style="color: #222222" th:text="${project.projectName}"></button>-->
<!--                                        </form>-->

<!--                                    </li>-->
<!--                                </ul>-->
<!--                                <label for="recipient-name" class="col-form-label">멤버 이름</label>-->
<!--                                <input type="text" th:name="userName" class="form-control" id="memberName">-->
                                <label for="recipient-name" class="col-form-label">멤버 이름</label>
                                <input type="text" th:name="userName" class="form-control" id="memberName">

                                <!-- 프로젝트 목록을 체크박스로 표시 -->
                                <div class="checkbox-group">
                                    <label th:each="project : ${projectList}">
                                        <input type="checkbox" th:id="${'projectCheckbox_' + project.projectId}" th:name="projectNumber" th:value="${project.projectId}" />
                                        <span th:text="${project.projectName}"></span>
                                    </label>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                        <button type="submit" class="btn btn-primary">추가</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

</th:block>
</html>